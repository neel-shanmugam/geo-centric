<!DOCTYPE html>
<html>
<head>
    <title>Closest Location Search</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <h1>Find Closest Locations of Interest</h1>
    <form method="POST" id="myForm">
        <label for="apikey">API Key:</label><br>
        <input type="text" id="apikey" name="apikey" required><br>

        <label for="place">Place of Interest:</label><br>
        <input type="text" id="place" name="place" required><br>

        <div id="inputFields">
            <label for="individual1">Individual 1 Address:</label><br>
            <input type="text" id="individual1" name="individual" required><br>
        </div>
        <button type="button" onclick="addInputField()">Add Individual</button>
        <button type="button" onclick="removeInputField()">Remove Individual</button><br>
        <input type="submit" value="Submit">
    </form>
    {% if best_locations %}
    <h2>Top 5 Locations:</h2>
    {% for location, score, times in best_locations %}
    <h3>{{ location }}</h3>
    <p>Score: {{ score }}</p>
    {% for individual, time in times.items() %}
    <p>{{ individual }}: {{ time }}</p>
    {% endfor %}
    {% endfor %}
    {% endif %}

    <script>
        let individualCount = 2;
    
        function addInputField() {
            const div = document.createElement('div');
    
            const label = document.createElement('label');
            label.setAttribute('for', `individual${individualCount}`);
            label.innerText = `Individual ${individualCount} Address:`;
    
            const input = document.createElement('input');
            input.setAttribute('type', 'text');
            input.setAttribute('id', `individual${individualCount}`);
            input.setAttribute('name', 'individual');
    
            div.appendChild(label);
            div.appendChild(document.createElement('br'));
            div.appendChild(input);
            div.appendChild(document.createElement('br'));
    
            document.getElementById('inputFields').appendChild(div);
    
            individualCount++;
        }
    
        function removeInputField() {
            if (individualCount > 2) {
                const div = document.getElementById(`individual${individualCount - 1}`).parentNode;
                div.parentNode.removeChild(div);
                individualCount--;
            }
        }
    </script>
</body>
</html>

